<mat-tab-group mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4" color="accent"
  animationDuration="1000ms" (selectedTabChange)="onTabChange($event)">
  <mat-tab label="{{'app.dashboard.followers.tabs.search'| translate}}" style="overflow: hidden;">
    <ng-template matTabContent>
      <mat-card style="margin:14px;">
        <mat-toolbar color="primary" class="example-toolbar" *ngIf="!isFilterShowTab1">
          <h2 class="example-app-name">{{"app.dashboard.followers.tabs.search"| translate}}</h2>
          <span class="example-spacer"></span>
          <button mat-icon-button matTooltip="{{'app.dashboard.followers.table.tooltips.reload'| translate}}">
            <mat-icon class="example-icon" aria-hidden="false" (click)="loadTab1()">refresh</mat-icon>
          </button>
          <button mat-icon-button matTooltip="{{'app.dashboard.followers.table.tooltips.search'| translate}}">
            <mat-icon class="example-icon" aria-hidden="false" (click)="isFilterShowTab1=true">filter_list</mat-icon>
          </button>
        </mat-toolbar>
        <mat-toolbar class="example-toolbar" *ngIf="isFilterShowTab1">
          <mat-form-field appearance="outline">
            <mat-label>buscar por nombre</mat-label>
            <input matInput formControlName="search" (keyup)="applyFilterTab1($event.target.value)">
            <mat-icon matSuffix class="secondary-text">search</mat-icon>
          </mat-form-field>
          <span class="example-spacer"></span>
          <button mat-icon-button>
            <mat-icon class="example-icon" aria-hidden="false" (click)="isFilterShowTab1=false">close</mat-icon>
          </button>
        </mat-toolbar>

        <mat-progress-bar mode="query" color="accent" *ngIf="isLoadingResultsTab1"></mat-progress-bar>

        <table mat-table [dataSource]="dataSourceTab1" matSort>
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              {{"app.dashboard.followers.table.columnName"| translate}} </th>
            <td mat-cell *matCellDef="let row;" class="single-row">
              <div fxLayout="row" fxLayoutAlign="start center" style="padding-top: 8px; padding-bottom: 8px;">
                <app-story-circle-image matListAvatar [image]="row.image" [borderColor]="'pink'"
                  style="display: table; vertical-align: middle; margin-right: 8px;"></app-story-circle-image>
                <a class="name-user-in-table" matLine> {{row.fullname}} </a>
                <span class="example-spacer"></span>

                <button mat-stroked-button color="accent" *ngIf="row.visible" fxHide.xs (click)="following(row)">
                  {{"app.dashboard.followers.table.buttonFollow"| translate}}
                </button>
                  <button mat-flat-button color="accent" *ngIf="!row.visible" fxHide.xs (click)="unFollowing(row)">
                      {{"app.dashboard.followers.table.buttonUnFollow"| translate}}
                  </button>
                  
                  <button mat-icon-button fxHide.gt-xs
                  matTooltip="{{'app.dashboard.followers.table.buttonFollow'| translate}}" *ngIf="row.visible"
                  (click)="following(row)">
                  <mat-icon color="accent" fxHide.gt-xs class="example-icon" aria-hidden="false">person_add</mat-icon>
                </button>

              </div>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;">
          </tr>
        </table>
        <mat-paginator color="accent" #paginatorTab1 [pageIndex]="dataConfigTab1.pageIndex"
          [pageSize]="dataConfigTab1.pageSize" [pageSizeOptions]="[5,10,50, 100]" [length]="dataConfigTab1.length"
          showFirstLastButtons (page)="onPaginateTab1($event)"></mat-paginator>
      </mat-card>

    </ng-template>
  </mat-tab>
  <mat-tab label="{{'app.dashboard.followers.tabs.followers'| translate}}">
    <ng-template matTabContent>
      <div class="container">
        <mat-card style="margin:14px;">
          <mat-toolbar color="primary" class="example-toolbar" *ngIf="!isFilterShowTab2">
            <h2 class="example-app-name">{{"app.dashboard.followers.tabs.followers"| translate}}</h2>
            <span class="example-spacer"></span>
            <button mat-icon-button matTooltip="{{'app.dashboard.followers.table.tooltips.reload'| translate}}">
              <mat-icon class="example-icon" aria-hidden="false" (click)="loadTab2()">refresh</mat-icon>
            </button>
            <button mat-icon-button matTooltip="{{'app.dashboard.followers.table.tooltips.search'| translate}}">
              <mat-icon class="example-icon" aria-hidden="false" (click)="isFilterShowTab2=true">filter_list</mat-icon>
            </button>
          </mat-toolbar>

          <mat-progress-bar mode="query" color="accent" *ngIf="isLoadingResultsTab2"></mat-progress-bar>

          <table mat-table [dataSource]="dataSourceTab2" matSort>
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                {{"app.dashboard.followers.table.columnName"| translate}} </th>
              <td mat-cell *matCellDef="let row;" class="single-row">
                <div fxLayout="row" fxLayoutAlign="start center" style="padding-top: 8px; padding-bottom: 8px;">
                  <app-story-circle-image matListAvatar [image]="row.image" [borderColor]="'#FFEA00'"
                    style="display: table; vertical-align: middle; margin-right: 8px;"></app-story-circle-image>
                  <a class="name-user-in-table" matLine> {{row.fullname}} </a>
                </div>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;">
            </tr>
          </table>
          <mat-paginator #paginatorTab2 [pageIndex]="dataConfigTab2.pageIndex" [pageSize]="dataConfigTab2.pageSize"
            [pageSizeOptions]="[5,10,50, 100]" [length]="dataConfigTab2.length" showFirstLastButtons
            (page)="onPaginateTab2($event)"></mat-paginator>
        </mat-card>
      </div>

    </ng-template>
  </mat-tab>
  <mat-tab label="{{'app.dashboard.followers.tabs.following'| translate}}">
    <ng-template matTabContent>
      <div class="container">
        <mat-card style="margin:14px;">
          <mat-toolbar color="primary" class="example-toolbar" *ngIf="!isFilterShowTab3">
            <h2 class="example-app-name">{{"app.dashboard.followers.tabs.following"| translate}}</h2>
            <span class="example-spacer"></span>
            <button mat-icon-button matTooltip="{{'app.dashboard.followers.table.tooltips.reload'| translate}}">
              <mat-icon class="example-icon" aria-hidden="false" (click)="loadTab3()">refresh</mat-icon>
            </button>
            <button mat-icon-button matTooltip="{{'app.dashboard.followers.table.tooltips.search'| translate}}">
              <mat-icon class="example-icon" aria-hidden="false" (click)="isFilterShowTab3=true">filter_list</mat-icon>
            </button>
          </mat-toolbar>

          <mat-progress-bar mode="query" color="accent" *ngIf="isLoadingResultsTab3"></mat-progress-bar>

          <table mat-table [dataSource]="dataSourceTab3" matSort>
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                {{"app.dashboard.followers.table.columnName"| translate}} </th>
              <td mat-cell *matCellDef="let row; " class="single-row">
                <div fxLayout="row" fxLayoutAlign="start center" style="padding-top: 8px; padding-bottom: 8px;">
                  <app-story-circle-image matListAvatar [image]="row.image" [borderColor]="'pink'"
                    style="display: table; vertical-align: middle; margin-right: 8px;"></app-story-circle-image>
                  <a class="name-user-in-table" matLine> {{row.fullname}} </a>
                  <span class="example-spacer"></span>
                  
                  <button mat-flat-button  color="accent" *ngIf="row.visible" fxHide.xs (click)="unFollowing(row)">
                    {{"app.dashboard.followers.table.buttonUnFollow"| translate}}
                  </button>
                  <button mat-stroked-button color="accent" *ngIf="!row.visible" fxHide.xs (click)="following(row)">
                      {{"app.dashboard.followers.table.buttonFollow"| translate}}
                  </button>

                  <button mat-icon-button fxHide.gt-xs
                    matTooltip="{{'app.dashboard.followers.table.buttonUnFollow'| translate}}" *ngIf="row.visible"
                    (click)="stopFollowing(row)">
                    <mat-icon color="accent" fxHide.gt-xs class="example-icon" aria-hidden="false">close</mat-icon>
                  </button>
                </div>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;">
            </tr>
          </table>
          <mat-paginator #paginatorTab3 [pageIndex]="dataConfigTab3.pageIndex" [pageSize]="dataConfigTab3.pageSize"
            [pageSizeOptions]="[5,10,50, 100]" [length]="dataConfigTab3.length" showFirstLastButtons
            (page)="onPaginateTab3($event)"></mat-paginator>
        </mat-card>
      </div>
    </ng-template>
  </mat-tab>
</mat-tab-group>